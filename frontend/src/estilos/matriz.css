.main-content {
  background: #f5f5f5;
  min-height: 100vh;
  width: 100%;
  display: flex;
  flex-direction: column;
  padding: 2rem;
  margin-top: 56px;
  box-sizing: border-box;
}

.page-title {
  color: #071744;
  font-weight: 700;
  font-size: 1.6rem;
  text-align: center;
  margin-bottom: 1.5rem;
}

/* ===== TABELA ===== */
.table-wrap {
  width: 100%;
  overflow-x: auto !important;
  overflow-y: hidden !important;
  margin-bottom: 1rem;
}

.custom-table {
  border-color: #d9e1e8 !important;
  border-collapse: collapse !important;
  min-width: 2200px;
  table-layout: auto;
}

/* Cabeçalho azul escuro e texto branco */
.custom-table thead.thead-gradient tr {
  background: linear-gradient(135deg, #002d5c, #004b80) !important;
}

.custom-table thead.thead-gradient th {
  background: linear-gradient(135deg, #002d5c, #004b80) !important;
  color: #ffffff !important;
  font-weight: 600;
  text-align: left;
  padding: 0.75rem;
  border-color: #003a6b !important;
  white-space: nowrap;
  position: sticky;
  top: 0;
  z-index: 3;
}

/* Linhas alternadas */
.row-blue td {
  background: #004b80 !important;
  color: #ffffff !important;
}

.row-white td {
  background: #ffffff !important;
  color: #212529 !important;
}

/* Hover igual a Documentos */
.custom-table tbody tr:hover td {
  background-color: #003a6b !important;
  color: #ffffff !important;
  transition: background-color 0.25s ease;
}

/* ===== CELULAS ===== */
.custom-table td,
.custom-table th {
  border-color: #d0d7de !important;
  vertical-align: top;
  white-space: nowrap;
  word-break: keep-all;
  overflow-wrap: break-word;
  min-width: 180px;
  padding: 0.75rem 0.9rem;
  line-height: 1.4;
}

/* ===== CONTEÚDO DAS CÉLULAS (controle de altura) ===== */
.cell-clip {
  display: block;
  line-height: 1.4em;
  max-height: calc(2 * 1.4em); /* Limita visualmente a 2 linhas reais */
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: normal;
  word-break: break-word;
}

/* As colunas mais textuais (risco, controle, plano) têm largura mínima maior */
.custom-table .col-wide {
  min-width: 320px;
}

/* ==========================================================================
   CORREÇÃO DE EMPILHAMENTO PARA DROPDOWN NA COLUNA "AÇÕES"
   --------------------------------------------------------------------------
   Contexto:
   - As tabelas (Matriz de Risco, Documentos etc.) usam a última coluna com
     `position: sticky; right: 0;` para fixar os botões "Ações".
   - Cada <td> sticky cria um novo stacking context (z-index local).
   - Ao abrir a dropdown, as células sticky das linhas seguintes ficavam
     acima do menu, já que estão depois no DOM e com o mesmo z-index.

   Solução adotada:
   - Elevar dinamicamente o z-index da célula (<td>) ativa usando
     `:focus-within` (botão focado) e `:hover` (fallback).
   - Atribuir z-index progressivamente maior à célula, ao .dropdown e ao
     .dropdown-menu, garantindo que o menu fique visível sobre qualquer
     linha sticky e até sobre o cabeçalho, sem alterar layout ou cores.

   Escopo:
   - Aplica-se globalmente a `.custom-table`.
   - Resolve o problema em todas as páginas com o mesmo padrão visual.
   - Mantém a consistência visual e responsiva do sistema Camaleão.

   Autor: Ajuste técnico — João Sampaio / Projeto Camaleão (Out/2025)
   ==========================================================================
*/

/* ===== COLUNA AÇÕES FIXA ===== */
.custom-table th:last-child,
.custom-table td:last-child {
  position: sticky;
  right: 0;
  z-index: 3;
  box-shadow: -3px 0 5px rgba(0, 0, 0, 0.08);
  white-space: nowrap;
  min-width: 160px;
}

.custom-table td:last-child:focus-within,
.custom-table td:last-child:hover {
  z-index: 3000; /* fica acima de outras células sticky */
}

.custom-table td:last-child .dropdown {
  position: relative;
  z-index: 3100;
}

/* Coluna “Ações” respeita a cor alternada da linha */
.row-blue td:last-child {
  background: #004b80 !important;
  color: #fff !important;
}

.row-white td:last-child {
  background: #ffffff !important;
  color: #212529 !important;
}

/* Hover também aplica na coluna fixa */
.custom-table tbody tr:hover td:last-child {
  background-color: #003a6b !important;
  color: #ffffff !important;
}

/* Dropdown acima da tabela */
.custom-table td:last-child .dropdown-menu {
  position: absolute !important; /* mantém cálculo do Popper */
  z-index: 3200 !important; /* acima de tudo na tabela */
  transform: translate3d(0, 0, 0); /* evita glitches de pintura */
}

/* ===== MODAL ESTILO ANTIGO ===== */
.modal-style {
  border: 2px solid #007bff !important;
  border-radius: 12px !important;
  overflow: hidden;
  box-shadow: 0 4px 20px rgba(0, 91, 150, 0.45) !important;
}

/* Cabeçalho com gradiente */
.modal-style .modal-header {
  background: linear-gradient(135deg, #003366, #005b96);
  color: #fff !important;
  border-bottom: none !important;
  padding: 1rem 1.5rem;
}

.modal-style .modal-title {
  color: #fff !important;
  font-weight: 700;
}

/* Corpo azul escuro com campos brancos */
.modal-style .modal-body {
  background-color: #003366 !important;
  color: #fff !important;
  padding: 1.8rem;
}

.modal-style label {
  color: #fff !important;
  font-weight: 500;
}

.modal-style .form-control,
.modal-style .form-select {
  background-color: #fff !important;
  color: #000 !important;
  border-radius: 6px;
  border: 1px solid #d0d7de;
}

.modal-style .form-control:focus,
.modal-style .form-select:focus {
  border-color: #007bff;
  box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
}

/* Placeholders */
.modal-style ::placeholder {
  color: #6c757d !important;
  opacity: 1;
}

/* Botões do rodapé */
.modal-style .modal-footer {
  background-color: #003366 !important;
  border-top: none !important;
  padding: 1rem 1.5rem;
}

.modal-style .btn-primary {
  background-color: #005b96 !important;
  border-color: #005b96 !important;
  font-weight: 500;
}

.modal-style .btn-primary:hover {
  background-color: #004b80 !important;
  border-color: #004b80 !important;
}

.modal-style .btn-outline-secondary {
  background-color: #fff !important;
  color: #003366 !important;
  border-color: #003366 !important;
}

.modal-style .btn-outline-secondary:hover {
  background-color: #e6e6e6 !important;
}

/* Ajuste geral */
.modal-content {
  border-radius: 12px !important;
  overflow: hidden;
}

/* ===== AJUSTE FINAL DE EXIBIÇÃO — RANKING DE RISCO ===== */
.custom-table-ranking {
  table-layout: auto !important; /* permite o navegador ajustar colunas dinamicamente */
  min-width: 1400px !important; /* base proporcional ao número de colunas */
}

.custom-table-ranking th,
.custom-table-ranking td {
  vertical-align: middle !important;
  white-space: normal !important;
  word-break: break-word !important;
}

/* Limita visualmente o texto a 2 linhas reais */
.custom-table-ranking .cell-clip {
  display: block;
  line-height: 1.4em;
  max-height: calc(2 * 1.4em); /* 2 linhas */
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: normal;
  word-break: break-word;
}

/* ========================================================================== */
/* ABA DE NAVEGAÇÃO (RISK-TABS) — PADRONIZADA ENTRE MATRIZ, RANKING E HEATMAP */
/* ========================================================================== */

.risk-tabs-wrap {
  width: 100%;
}

.risk-tabs {
  display: flex;
  gap: 28px;
  padding: 0 0 6px 0;
  margin: 0;
  list-style: none;
}

.risk-tabs__item {
  margin: 0;
  padding: 0;
}

.risk-tab {
  text-decoration: none;
  background: none;
  border: 0;
  padding: 8px 0 10px;
  font-size: 16px;
  line-height: 1;
  color: #213547;
  cursor: pointer;
  position: relative;
  transition: color 0.2s ease;
}

.risk-tab:is(:hover, :focus-visible) {
  color: #0a2a5a;
  outline: none;
}

.risk-tab.is-active {
  color: #071744;
  font-weight: 600;
}

.risk-tab.is-active::after {
  content: '';
  position: absolute;
  left: 0;
  right: 0;
  bottom: -6px;
  height: 3px;
  background: #071744;
  border-radius: 2px;
}

.risk-tabs__divider {
  width: 100%;
  height: 1px;
  background: #e6eef5;
}

.no-caret {
  caret-color: transparent;
}

.no-pointer {
  pointer-events: none;
}
